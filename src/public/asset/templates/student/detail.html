<div class="row">
    <div class="col-md-12">

        <div class="card">
            <div class="row">
                <div class="col-md-12">
                    <div class="title">
                        <h2>
                            {{ student.first_name }} {{ student.last_name }}
                            <span class="last-update">{{ 'general.last_update' | i18n }} : &nbsp {{ xsreLastUpdated | date : 'MM/dd/yyyy HH:mm:ss' : timezone }}</span>
                            <img class="loading-icon" src="asset/img/ajax-loader.gif"><a ng-show="loading_icon" ng-click="updateNow()" style="font-size: 14px;font-weight: bold;">(Update Now)</a>
                        </h2>
                        <hr>
                    </div>
                    <div class="content" id="content-help">
                        <div class="ng-binding help">
                            <p>{{ 'help.user_edit' | i18n }}</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div class="col-md-6 vertical-line">
                    <div class="col-md-4 col-sm-12">
                        <div class="two-lines">
                            <div class="title">
                                <p class="subhead uppercase">{{ 'general.personal_info' | i18n }}</p>
                                <hr>
                            </div>
                        </div>
                        <div class="content">
                            <b>{{ 'general.district_id' | i18n }}</b> {{ student.district_student_id }}
                            <br/>
                            <b>{{ 'general.brithday' | i18n }}</b> {{studentdetails.demographics.birthDate | date : 'MM/dd/yyyy' : timezone}}
                            <br/>
                            <b>{{ 'general.race_ethnicity' | i18n }}</b> {{studentdetails.demographics.races.race.race}}
                            <br/>
                            <b>{{ 'general.gender' | i18n }}</b> {{studentdetails.demographics.sex}}
                        </div>
                        <div class="two-lines">
                            <div class="title">
                                <p class="subhead personal uppercase">{{ 'general.personal_contact' | i18n }}</p>
                                <hr>
                            </div>
                        </div>
                        <div class="content">
                            {{student.email}}
                            <br/> {{student.phone | phonenumber}}
                            <br/> {{student.address}}
                        </div>
                    </div>
                    <div class="col-md-4 col-sm-12" id="emergency_section">
                        <div class="two-lines">
                            <div class="title">
                                <p class="subhead uppercase">{{ 'general.emergency_contacts' | i18n }}</p>
                                <hr>
                            </div>
                        </div>
                        <div class="content">
                            <b>{{student.emergency1_name}}</b>
                            <br/> {{student.emergency1_relationship}}
                            <br/> {{student.emergency1_email}}
                            <br/> {{student.emergency1_phone | phonenumber}}
                        </div>
                        <div class="content personal">
                            <b>{{student.emergency2_name}}</b>
                            <br/> {{student.emergency2_relationship}}
                            <br/> {{student.emergency2_email}}
                            <br/> {{student.emergency2_phone | phonenumber}}
                        </div>
                    </div>
                    <div class="col-md-4 col-sm-12" id="assigned_user_section">
                        <div class="two-lines">
                            <div class="title">
                                <p class="subhead">{{ 'general.case_workers' | i18n }}</p>
                                <hr>
                            </div>
                        </div>
                        <div class="content">

                            <div ng-repeat="person in case_workers">
                                <span>{{person.fullname}}</span>
                                <br/>
                            </div>

                        </div>
                    </div>
                    </div>
                    <div class="col-md-6 extra-space">
                    <div class="col-md-6">
                        <div class="two-lines">
                            <div class="title">
                                <p class="subhead uppercase">{{ 'general.academic' | i18n}}</p>
                                <hr>
                            </div>
                        </div>
                        <div class="content bottom-space">
                            <b>{{ 'general.current_school' | i18n }}</b> {{ academicInfo.currentSchool }}
                            <br/>
                            <b>{{ 'general.expected_graduation_year' | i18n }}</b> {{ academicInfo.expectedGraduationYear }}
                            <br/>
                            <b>{{ 'general.grade_level' | i18n }}</b>
                            <div class="uppercase inline-block">{{academicInfo.gradeLevel }}</div>
                            <br/>
                        </div>
                        <div class="content top-space">
                            <b>{{ 'general.language_spoken_at_home' | i18n }}</b>
                            <div class="uppercase inline-block"> {{ academicInfo.languageSpokenAtHome }}</div>
                            <br/>
                            <b>IEP</b>
                            <div class="uppercase inline-block"> {{ academicInfo.iep }}</div>
                            <br/>
                            <b>S504</b>
                            <div class="uppercase inline-block"> {{ academicInfo.s504 }}</div>
                            <br/>
                            <b>{{ 'general.free_or_reduced_lunch' | i18n }}</b>
                            <div class="uppercase inline-block"> {{ academicInfo.freeReducedLunch }}</div>
                            <br/>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="two-lines-current-class">
                            <div class="title">
                                <p class="subhead uppercase">{{ 'general.current_courses' | i18n }} <b>{{studentdetails.transcriptTerm.schoolYear}}</b></p>
                                <hr>
                            </div>
                        </div>
                        <div class="content">
                            <div ng-repeat="course in studentdetails.transcriptTerm.courses.course | unique: 'courseTitle' ">
                                <span>{{course.courseTitle}}</span>
                                <br/>
                            </div>
                        </div>
                    </div>
                    </div>
            </div>

        </div>
        <!-- end of row -->

        <div class="clearfix"></div>

        <a href="javascript:void(0)" onclick="hideContent(this)" class="pull-right menu-up display-blk"><i class="glyphicon glyphicon-menu-up"></i></a>
        <a href="javascript:void(0)" onclick="showContent(this)" class="pull-right menu-down display-none"><i class="glyphicon glyphicon-menu-down"></i></a>

    </div>

</div>

</div>
<div>


    <div class="row">
        <div class="col-md-12">

            <ul class="nav nav-tabs nav-justified" role="tablist">
                <li class="active"><a href="javascript:;" role="tab" data-toggle="tab" data-target="#attendance_and_behavior" class="uppercase">{{ 'general.attendance_and_behavior' | i18n }}</a></li>
                <li><a href="javascript:;" role="tab" data-toggle="tab" data-target="#transcript" class="uppercase">{{ 'general.transcript' | i18n}}</a></li>
                <li><a href="javascript:;" role="tab" data-toggle="tab" data-target="#program_participation" class="uppercase">{{ 'general.program_participation' | i18n }}</a></li>
            </ul>

            <!-- Tab panes -->
            <div class="tab-content">
                <div role="tabpanel" class="tab-pane active" id="attendance_and_behavior" data-id="attendance_and_behavior_data">
                    <ul class="no-data {{attendanceBehavior.length > 0 ? 'hide' : ''}}">
                        <li class="text-center">{{ 'general.attendance_and_behavior_error_message' | i18n}}</li>
                    </ul>

                    <ul class="flexbox attendance-behavior {{attendanceBehavior.length > 0 ? '' : 'hide'}}">
                        <li class="uppercase">{{ 'general.attendance_dates' | i18n }}</li>
                        <li>
                            <div class="col-separator"></div>
                            <div class="uppercase inline-block">{{ 'general.LM' | i18n }}</div>
                        </li>
                        <li class="uppercase">{{ 'general.LT' | i18n }}</li>
                        <li class="uppercase">{{ 'general.LW' | i18n }}</li>
                        <li class="uppercase">{{ 'general.TH' | i18n }}</li>
                        <li class="uppercase">{{ 'general.LF' | i18n }}</li>
                        <li class="uppercase">
                            <div class="col-separator"></div>
                            <div class="uppercase inline-block">{{ 'general.delta_change' | i18n}}</div>

                        </li>
                    </ul>

                    <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
                        <div class="panel attendance-behavior" ng-if="attendanceBehavior" ng-repeat="(indexBehavior, behavior) in attendanceBehavior">
                            <div class="panel-heading attendance-behavior" role="tab" id='heading_{{ indexBehavior+1 }}'>
                                <h4 class="panel-title">
                                
                                 <ul class="flexbox attendance-behavior{{indexBehavior < 1 ? ' hide' : '' }}">
                                    <li>
                                        {{ behavior.summary.title }}
                                     </li>
                                    <li ng-class="{ unexcused: parseInt(behavior.details[0].M) < 100 }">
                                        <div class="col-separator"></div>
                                        {{ behavior.summary.M }}
                                     </li>
                                    <li ng-class="{ unexcused: parseInt(behavior.details[0].T) < 100 }">{{ behavior.summary.T }}</li>
                                    <li ng-class="{ unexcused: parseInt(behavior.details[0].W) < 100 }">{{ behavior.summary.W }}</li>
                                    <li ng-class="{ unexcused: parseInt(behavior.details[0].TH) < 100 }">{{ behavior.summary.TH }}</li>
                                    <li ng-class="{ unexcused: parseInt(behavior.details[0].F) < 100 }">{{ behavior.summary.F }}</li>
                                    <li>
                                        <div class="col-separator"></div>
                                        {{ behavior.summary.weeklyChange }}
                                        <a ng-click="hideIcon($event)" role="button" data-toggle="collapse" href="javascript:;" aria-expanded="true" aria-controls="collapse_{{ indexBehavior+1 }}" data-target="#collapse_{{ indexBehavior+1 }}" class="header-icon-attendance glyphicon glyphicon-chevron-down pull-right"></a>
                                     </li>
                                </ul>
                               
                                <ul  class="flexbox attendance-behavior attendance-detail{{indexBehavior > 0 ? ' hide' : '' }}">
                                    <li>
                                        {{ behavior.details[0].title }}
                                     </li>
                                    <li>
                                        <div class="col-separator"></div>
                                        {{ behavior.details[0].M }}
                                     </li>
                                    <li>{{ behavior.details[0].T }}</li>
                                    <li>{{ behavior.details[0].W }}</li>
                                    <li>{{ behavior.details[0].TH }}</li>
                                    <li>{{ behavior.details[0].F }}</li>
                                    <li>
                                        <div class="col-separator"></div>

                                     </li>
                                </ul>    
                                
                            </h4>
                            </div>
                            <!-- panel heading -->

                            <div id="collapse_{{ indexBehavior+1 }}" class="panel-collapse collapse{{indexBehavior == 0 ? ' in' : '' }}" role="tabpanel" aria-labelledby="heading_{{ indexBehavior+1 }}">
                                <div class="panel-body attendance-behavior">
                                    <div class="period-col">
                                        <ul class="period-col menu">
                                            <li ng-if="$index > 0" ng-repeat="period in behavior.detailColumns.periods track by $index">{{period}}</li>
                                            <li>&nbsp;</li>
                                            <li class="uppercase">{{ 'general.behavior' | i18n}}</li>
                                        </ul>
                                    </div>
                                    <div class="attendance-content">
                                        <hr class="attendance-separator">
                                        <div class="monday" ng-bind-html="behavior.columnHtml.M">
                                        </div>
                                        <div class="tuesday" ng-bind-html="behavior.columnHtml.T">
                                        </div>
                                        <div class="wednesday" ng-bind-html="behavior.columnHtml.W">
                                        </div>
                                        <div class="thursday" ng-bind-html="behavior.columnHtml.TH">
                                        </div>
                                        <div class="friday" ng-bind-html="behavior.columnHtml.F">
                                        </div>

                                    </div>
                                    <div class="attendance-legend">
                                        <a ng-click="open()" class="button btn-legend open_button uppercase" ng-show="open_button">{{ 'general.legend' | i18n }}</a>
                                        <a ng-click="showIcon($event)" role="button" data-toggle="collapse" href="javascript:;" aria-expanded="true" aria-controls="collapse_{{ indexBehavior+1 }}" data-target="#collapse_{{ indexBehavior+1 }}" class="legend-icon-attendance glyphicon glyphicon-chevron-up pull-right" data-id='1'></a>
                                        <div class="panel legend-list" ng-show="icon_legend">
                                            <!-- Default panel contents -->
                                            <div class="panel-heading uppercase">
                                                {{ 'general.legend' | i18n }}
                                                <span ng-click="close()" class="glyphicon glyphicon-remove pull-right"></span>
                                            </div>
                                            <ul class="list-group legend-list">
                                                <li class="list-group-item present uppercase">{{ 'general.present' | i18n }}</li>
                                                <li class="list-group-item excused uppercase">{{ 'general.excused' | i18n }}</li>
                                                <li class="list-group-item late uppercase">{{ 'general.late' | i18n }}</li>
                                                <li class="list-group-item holiday uppercase">{{ 'general.holiday' | i18n }}</li>
                                                <li class="list-group-item unexcused uppercase">{{ 'general.unexcused' | i18n }}</li>
                                            </ul>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <!--end content panel-->
                            <!--end content panel-->
                        </div>
                        <!-- default panel -->



                    </div>
                    <!-- panel group -->
                </div>
                <!-- tab panel -->


                <div role="tabpanel" class="tab-pane" id="program_participation" data-id="program_participation_data">

                    <ul class="no-data {{list_programs.length > 0 ? 'hide' : ''}}">
                        <li class="text-center">{{ 'general.program_participation_error_message' | i18n }}</li>
                    </ul>
                    <ul class="student-program-participation">
                        <li ng-repeat="program in list_programs">
                            <div class="program_date">
                                {{program.years}}
                            </div>
                            <ul class="flexbox program_participation">

                                <li ng-repeat="item in program.programs">
                                    <b>{{item.name}}</b>
                                    <br>
                                    <b>{{item.active}}</b>
                                    <br> {{item.start_date | date:'MM/dd/yyyy'}} - {{item.end_date | date:'MM/dd/yyyy'}}
                                    <ul class="cohorts">
                                        <li ng-repeat="cohort in item.cohorts">
                                            {{cohort}}
                                        </li>
                                    </ul>
                                    <br>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
                <!-- TRANSCRIPT TAB //-->
                <div role="tabpanel" class="tab-pane transcript" id="transcript" data-id="transcript_data">
                    <ul class="flexbox transcript">
                        <li>
                            <b>{{ transcripts.summary.totalCreditsEarned }}</b>{{ 'general.credits_earned' | i18n }}
                            <br/>
                            <b>{{ transcripts.summary.termCreditsAttempted }}</b>{{ 'general.credits_attempted' | i18n }}
                            <br/>
                            <b>{{ 'general.grade_level' | i18n }}</b> {{ transcripts.gradeLevel }}
                            <br/>
                            <br/>
                            <div>
                                <div ng-click="showSchoolHistory()" class="button transcript-school-history display-inline-blk uppercase">{{ 'general.see_school' | i18n }}
                                    <br>HISTORY</div>
                            </div>

                        </li>
                        <li class="ctype-{{ $index+1 }} tc-{{total_data}}-col  uppercase" ng-repeat="(subjectName, subjectValue) in transcripts.subject track by $index">{{ subjectValue }}
                            <br/>{{ subjectName }} {{ 'general.credits' | i18n }}</li>
                    </ul>
                    <hr class="separator-transcript">
                    <div class="transcript-container">
                        <div class="inner-transcript-container">
                            <ul class="flexbox transcript-content" ng-repeat="transDetail in transcripts.details | orderBy:'-schoolYear'">
                                <li class="transcript-content">
                                    {{ transDetail.schoolYear }} - {{ transDetail.session }}
                                    <br/>
                                    <br/>
                                    <b>{{ transDetail.schoolName }}</b>
                                    <br/>
                                    <b>{{ transDetail.summary.termCreditsAttempted }}</b> {{ 'general.credits_attempted' | i18n }}
                                    <br/>
                                    <b>{{ 'general.grade_level' | i18n }}</b> {{ transDetail.gradeLevel }}
                                </li>
                                <li class="transcript-content tcontent-{{total_data}}-col" ng-repeat="(courseName, course) in transDetail.transcripts">
                                    <div class="transcript-descriptor" ng-if="course === null                                        ">

                                    </div>
                                    <div class="transcript-display" ng-if="course === null">

                                    </div>
                                    <div class="transcript-content-array" ng-if="course !== null" ng-repeat="c in course">
                                        <div class="transcript-descriptor">
                                            <div class="transcript-font-color uppercase ctype-font-{{ c.index+1 }}">{{ c.title }}</div>
                                            <hr class="hr-transcript">
                                            <div class="attempted-credit">
                                                <b>{{ c.courseId }}</b>
                                                <br>
                                                <b>{{ 'general.grade' | i18n }}</b> - {{ c.mark }}
                                                <br>
                                                <b>{{ 'general.grade_level' | i18n }}</b> - {{ c.gradeLevel }}
                                                <br>
                                                <b>{{ 'general.earned_credits' | i18n }}</b> - {{ c.creditsEarned }}
                                                <br>
                                                <b>{{ 'general.attempted_credits' | i18n }}</b> - {{ c.creditsAttempted }}
                                                <br>
                                            </div>
                                        </div>
                                        <div class="transcript-display">
                                            <div class="transcript-font-color uppercase ctype-font-{{ c.index+1 }}">{{ c.title }}</div>
                                            <hr class="hr-transcript">
                                            <div class="attempted-credit">
                                                <b>{{ 'general.grade' | i18n }}</b> - {{ c.mark }}
                                                <br>
                                                <b>{{ 'general.attempted_credits' | i18n }}</b> - {{ c.creditsEarned }}
                                                <br>
                                                <b>{{ 'general.earned_credits' | i18n }}</b> - {{ c.creditsAttempted }}
                                            </div>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div id="school-history-transcript" class="school history" ng-show="sch_history">

                <div class="title">
                    <span ng-click="closeSchoolHistory()" class="school-history glyphicon glyphicon-remove"></span>
                    <p class="subhead transcript">School History</p>
                    <hr class="subhead separator-transcript">

                </div>
                <div class="content">

                    <scrollable-table watch="visibleProjects">

                        <table class="table table-striped school-history">
                            <thead>
                                <tr>
                                    <th><b>{{ 'general.school_name' | i18n }}</b></th>
                                    <th><b>{{ 'general.school_year' | i18n }}</b></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-if="sch_history" ng-repeat="data in transcripts.history">
                                    <td>
                                        {{data.schoolName}}
                                    </td>
                                    <td>
                                        {{data.schoolYear}}
                                    </td>
                                </tr>
                            </tbody>

                        </table>

                    </scrollable-table>

                </div>

            </div>
        </div>



    </div>
